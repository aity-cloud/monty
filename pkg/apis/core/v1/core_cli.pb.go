// Code generated by cli_gen.go DO NOT EDIT.
// source: github.com/rancher/opni/pkg/apis/core/v1/core.proto

package v1

import (
	context "context"
	cli "github.com/rancher/opni/internal/codegen/cli"
	flagutil "github.com/rancher/opni/pkg/util/flagutil"
	cobra "github.com/spf13/cobra"
	pflag "github.com/spf13/pflag"
	emptypb "google.golang.org/protobuf/types/known/emptypb"
	strings "strings"
)

type contextKey_Pinger_type struct{}

var contextKey_Pinger contextKey_Pinger_type

func ContextWithPingerClient(ctx context.Context, client PingerClient) context.Context {
	return context.WithValue(ctx, contextKey_Pinger, client)
}

func PingerClientFromContext(ctx context.Context) (PingerClient, bool) {
	client, ok := ctx.Value(contextKey_Pinger).(PingerClient)
	return client, ok
}

var extraCmds_Pinger []*cobra.Command

func addExtraPingerCmd(custom *cobra.Command) {
	extraCmds_Pinger = append(extraCmds_Pinger, custom)
}

func BuildPingerCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:               "pinger",
		Short:             ``,
		Args:              cobra.NoArgs,
		ValidArgsFunction: cobra.NoFileCompletions,
	}

	cmd.AddCommand(BuildPingerPingCmd())
	cli.AddOutputFlag(cmd)
	return cmd
}

func BuildPingerPingCmd() *cobra.Command {
	cmd := &cobra.Command{
		Use:               "ping",
		Short:             "",
		Args:              cobra.NoArgs,
		ValidArgsFunction: cobra.NoFileCompletions,
		RunE: func(cmd *cobra.Command, args []string) error {
			client, ok := PingerClientFromContext(cmd.Context())
			if !ok {
				cmd.PrintErrln("failed to get client from context")
				return nil
			}
			response, err := client.Ping(cmd.Context(), &emptypb.Empty{})
			if err != nil {
				return err
			}
			cli.RenderOutput(cmd, response)
			return nil
		},
	}
	return cmd
}

func (in *Reference) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("Reference", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringVar(&in.Id, strings.Join(append(prefix, "id"), "."), "", "")
	return fs
}

func (in *LabelSelector) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("LabelSelector", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringToStringVar(&in.MatchLabels, strings.Join(append(prefix, "match-labels"), "."), nil, "")
	return fs
}

func (in *CapabilityType) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("CapabilityType", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringVar(&in.Name, strings.Join(append(prefix, "name"), "."), "", "")
	return fs
}

func (in *BackendRole) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("BackendRole", pflag.ExitOnError)
	fs.SortFlags = true
	if in.Capability == nil {
		in.Capability = &CapabilityType{}
	}
	fs.AddFlagSet(in.Capability.FlagSet(append(prefix, "capability")...))
	if in.Role == nil {
		in.Role = &Role{}
	}
	fs.AddFlagSet(in.Role.FlagSet(append(prefix, "role")...))
	return fs
}

func (in *CapabilityType) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("CapabilityType", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringVar(&in.Name, strings.Join(append(prefix, "name"), "."), "", "")
	return fs
}

func (in *Role) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("Role", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringVar(&in.Id, strings.Join(append(prefix, "id"), "."), "", "")
	if in.Metadata == nil {
		in.Metadata = &RoleMetadata{}
	}
	fs.AddFlagSet(in.Metadata.FlagSet(append(prefix, "metadata")...))
	return fs
}

func (in *RoleMetadata) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("RoleMetadata", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringVar(&in.ResourceVersion, strings.Join(append(prefix, "resource-version"), "."), "", "read-only")
	return fs
}

func (in *BackendRoleRequest) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("BackendRoleRequest", pflag.ExitOnError)
	fs.SortFlags = true
	if in.Capability == nil {
		in.Capability = &CapabilityType{}
	}
	fs.AddFlagSet(in.Capability.FlagSet(append(prefix, "capability")...))
	if in.RoleRef == nil {
		in.RoleRef = &Reference{}
	}
	fs.AddFlagSet(in.RoleRef.FlagSet(append(prefix, "role-ref")...))
	return fs
}

func (in *Reference) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("Reference", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringVar(&in.Id, strings.Join(append(prefix, "id"), "."), "", "")
	return fs
}

func (in *RoleBinding) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("RoleBinding", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringVar(&in.Id, strings.Join(append(prefix, "id"), "."), "", "")
	fs.StringVar(&in.RoleId, strings.Join(append(prefix, "role-id"), "."), "", "")
	fs.StringSliceVar(&in.Subjects, strings.Join(append(prefix, "subjects"), "."), nil, "")
	fs.StringSliceVar(&in.Taints, strings.Join(append(prefix, "taints"), "."), nil, "")
	if in.Metadata == nil {
		in.Metadata = &RoleBindingMetadata{}
	}
	fs.AddFlagSet(in.Metadata.FlagSet(append(prefix, "metadata")...))
	return fs
}

func (in *RoleBindingMetadata) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("RoleBindingMetadata", pflag.ExitOnError)
	fs.SortFlags = true
	fs.StringVar(&in.ResourceVersion, strings.Join(append(prefix, "resource-version"), "."), "", "read-only")
	fs.Var(flagutil.StringPtrValue(nil, &in.Capability), strings.Join(append(prefix, "capability"), "."), "immutable after creation")
	return fs
}

func (in *Revision) FlagSet(prefix ...string) *pflag.FlagSet {
	fs := pflag.NewFlagSet("Revision", pflag.ExitOnError)
	fs.SortFlags = true
	fs.Var(flagutil.IntPtrValue(nil, &in.Revision), strings.Join(append(prefix, "revision"), "."), "A numerical revision uniquely identifying a specific version of the resource.")
	return fs
}
